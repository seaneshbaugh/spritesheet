version: "3"

services:
  sinatra:
    build:
      context: "."
      dockerfile: "./Dockerfile.sinatra"
    volumes:
      - ".:/spritesheet"
    ports:
      - "3000:3000"
    command: "bundle exec puma config.ru -C config/puma.rb"
  webpack:
    build:
      context: "."
      dockerfile: "./Dockerfile.webpack"
    command: "yarn run watch"
    volumes:
      - ".:/app"
